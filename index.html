<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>UndergradFile</title>
<link rel="icon" href="https://static.readdy.ai/image/2610098eb4b7d6791c922033875fe1ac/cb8d8ce12e7b02e44cac157a69c7b894.png" type="image/png">
<script src="https://cdn.tailwindcss.com/3.4.16"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.29/jspdf.plugin.autotable.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
<script>tailwind.config={theme:{extend:{colors:{primary:'#BF2F2F',secondary:''},borderRadius:{'none':'0px','sm':'4px',DEFAULT:'8px','md':'12px','lg':'16px','xl':'20px','2xl':'24px','3xl':'32px','full':'9999px','button':'8px'}}}}</script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Special+Elite&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Anonymous+Pro" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" crossorigin="anonymous" />
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="css/main.css">
<style>
/* Typewriter Animation */
.typewriter-container {
  display: inline-block;
  margin-right: 20px;
}

.typewriter {
  overflow: hidden;
  border-right: 2px solid #BF2F2F;
  white-space: nowrap;
  margin: 0;
  letter-spacing: 0.15em;
  font-family: 'Anonymous Pro', monospace;
  width: 0;
  animation: 
    typewriter 5s steps(8, end) 0s infinite,
    blinkingCursor 500ms steps(44) infinite normal;
  display: inline-block;
  padding: 0 10px;
}

@keyframes typewriter {
  0% { width: 0; }
  30% { width: 340px; }
  70% { width: 340px; }
  100% { width: 0; }
}

@keyframes blinkingCursor {
  from { border-right-color: #BF2F2F; }
  to { border-right-color: transparent; }
}

/* Star Rating Styles */
.rating-box {
    gap: 20px;
    display: flex;
    position: relative;
    flex-direction: row-reverse;
    justify-content: center;
    margin-bottom: 90px;
}

.rating-box label {
    font-size: 45px;
    cursor: pointer;
}

input:not(:checked)~label {
    color: #cccccc;
    transition: .3s;
}

input:checked~label {
    color: #ffa534;
    animation: filling-animation .7s forwards;
    filter: drop-shadow(0px 0px 10px rgba(255, 165, 52, 0.5));
}

.emojis {
    width: 100%;
    height: fit-content;
    position: absolute;
    text-align: center;
    bottom: -80px;
    font-size: 40px;
    color: #000;
}

#rating-1:checked~.emojis::after {
    content: 'üòû';
}

#rating-2:checked~.emojis::after {
    content: 'üòê';
}

#rating-3:checked~.emojis::after {
    content: 'üôÇ';
}

#rating-4:checked~.emojis::after {
    content: 'üòÉ';
}

#rating-5:checked~.emojis::after {
    content: 'üòç';
}

@keyframes filling-animation {
    0%,
    100% {
        transform: scale(1);
    }

    30% {
        transform: scale(0);
    }

    60% {
        transform: scale(1.2);
    }
}



/* Form Styles */
.form-glow {
  position: relative;
}

/* Input focus glow effect */
.form-glow input:focus,
.form-glow select:focus,
.form-glow textarea:focus {
  outline: none;
  border-color: #BF2F2F;
  box-shadow: 0 0 0 2px rgba(191, 47, 47, 0.2), 0 0 8px rgba(191, 47, 47, 0.4);
  transition: all 0.3s ease;
  animation: input-pulse 1.5s infinite alternate;
}

@keyframes input-pulse {
  0% {
    box-shadow: 0 0 0 2px rgba(191, 47, 47, 0.2), 0 0 8px rgba(191, 47, 47, 0.3);
  }
  100% {
    box-shadow: 0 0 0 3px rgba(191, 47, 47, 0.3), 0 0 12px rgba(191, 47, 47, 0.5);
  }
}

/* Form submit button glow */
.submit-btn-glow {
  position: relative;
  overflow: hidden;
}

.submit-btn-glow::after {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: linear-gradient(
    to bottom right,
    rgba(255, 255, 255, 0) 0%,
    rgba(255, 255, 255, 0.1) 50%,
    rgba(255, 255, 255, 0) 100%
  );
  transform: rotate(45deg);
  animation: submit-btn-shine 3s infinite;
}

@keyframes submit-btn-shine {
  0% {
    left: -50%;
    top: -50%;
  }
  100% {
    left: 150%;
    top: 150%;
  }
}

/* Badge Unlock Glow Animation */
.badge-glow {
  animation: badge-pulse 2s infinite alternate;
  position: relative;
  z-index: 1;
}

/* Neon glow effects for badges */
.badge-bronze-glow {
  box-shadow: 0 0 5px #fff, 0 0 10px #cd7f32, 0 0 15px #cd7f32, 0 0 20px #cd7f32;
  animation: glow-bronze 1.5s ease-in-out infinite alternate;
}

.badge-silver-glow {
  box-shadow: 0 0 5px #fff, 0 0 10px #c0c0c0, 0 0 15px #c0c0c0, 0 0 20px #c0c0c0;
  animation: glow-silver 1.5s ease-in-out infinite alternate;
}

.badge-gold-glow {
  box-shadow: 0 0 5px #fff, 0 0 10px #ffd700, 0 0 15px #ffd700, 0 0 20px #ffd700;
  animation: glow-gold 1.5s ease-in-out infinite alternate;
}

@keyframes glow-bronze {
  0% {
    box-shadow: 0 0 5px #fff, 0 0 10px #cd7f32, 0 0 15px #cd7f32, 0 0 20px #cd7f32;
  }
  100% {
    box-shadow: 0 0 10px #fff, 0 0 15px #cd7f32, 0 0 20px #cd7f32, 0 0 25px #cd7f32, 0 0 30px #cd7f32;
  }
}

@keyframes glow-silver {
  0% {
    box-shadow: 0 0 5px #fff, 0 0 10px #c0c0c0, 0 0 15px #c0c0c0, 0 0 20px #c0c0c0;
  }
  100% {
    box-shadow: 0 0 10px #fff, 0 0 15px #c0c0c0, 0 0 20px #c0c0c0, 0 0 25px #c0c0c0, 0 0 30px #c0c0c0;
  }
}

@keyframes glow-gold {
  0% {
    box-shadow: 0 0 5px #fff, 0 0 10px #ffd700, 0 0 15px #ffd700, 0 0 20px #ffd700;
  }
  100% {
    box-shadow: 0 0 10px #fff, 0 0 15px #ffd700, 0 0 20px #ffd700, 0 0 25px #ffd700, 0 0 30px #ffd700;
  }
}

/* Badge icon glow effects */
.badge-bronze-glow .badge-icon {
  color: rgba(255, 255, 255, 0.95);
  animation: icon-glow-bronze 1.5s ease-in-out infinite alternate;
  font-weight: bold;
}

.badge-silver-glow .badge-icon {
  color: rgba(255, 255, 255, 0.95);
  animation: icon-glow-silver 1.5s ease-in-out infinite alternate;
  font-weight: bold;
}

.badge-gold-glow .badge-icon {
  color: rgba(255, 255, 255, 0.95);
  animation: icon-glow-gold 1.5s ease-in-out infinite alternate;
  font-weight: bold;
}

@keyframes icon-glow-bronze {
  0% {
    text-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #cd7f32, 0 0 20px #cd7f32, 0 0 25px #cd7f32, 0 0 30px #cd7f32;
  }
  100% {
    text-shadow: 0 0 10px #fff, 0 0 15px #cd7f32, 0 0 20px #cd7f32, 0 0 25px #cd7f32, 0 0 30px #cd7f32, 0 0 35px #cd7f32;
  }
}

@keyframes icon-glow-silver {
  0% {
    text-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #c0c0c0, 0 0 20px #c0c0c0, 0 0 25px #c0c0c0, 0 0 30px #c0c0c0;
  }
  100% {
    text-shadow: 0 0 10px #fff, 0 0 15px #c0c0c0, 0 0 20px #c0c0c0, 0 0 25px #c0c0c0, 0 0 30px #c0c0c0, 0 0 35px #c0c0c0;
  }
}

@keyframes icon-glow-gold {
  0% {
    text-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #ffd700, 0 0 20px #ffd700, 0 0 25px #ffd700, 0 0 30px #ffd700;
  }
  100% {
    text-shadow: 0 0 10px #fff, 0 0 15px #ffd700, 0 0 20px #ffd700, 0 0 25px #ffd700, 0 0 30px #ffd700, 0 0 35px #ffd700;
  }
}
</style>
</head>
<body>
<div class="min-h-screen flex flex-col">
<!-- Header -->
<header class="bg-white text-primary shadow-md">
<div class="container mx-auto px-4 py-4 flex justify-between items-center">
<div class="flex items-center">
<img src="https://static.readdy.ai/image/2610098eb4b7d6791c922033875fe1ac/cb8d8ce12e7b02e44cac157a69c7b894.png" alt="LPU Logo" class="h-16 mr-5">
<div class="typewriter-container md:block">
  <h1 class="typewriter text-4xl font-bold text-primary" style="text-shadow: 2px 2px 4px rgba(0,0,0,0.1); min-width: 300px;">UndergradFile</h1>
</div>
</div>

<!-- Login Button / Profile Dropdown -->
<div class="flex items-center">
  <div class="flex space-x-3">
    <!-- Tutorial Button -->
    <button id="tutorialBtn" class="bg-blue-600 text-white px-4 py-2 !rounded-button font-medium hover:bg-blue-700 transition whitespace-nowrap flex items-center">
      <i class="ri-video-line mr-2"></i>
      Tutorial
    </button>
    <!-- Login Button (visible when logged out) -->
    <button id="adminLoginBtn" class="bg-primary text-white px-4 py-2 !rounded-button font-medium hover:bg-opacity-90 transition whitespace-nowrap">Admin Login</button>
    
    <!-- Admin Profile Dropdown (hidden by default, visible when logged in) -->
    <div class="relative hidden" id="profileDropdownContainer">
      <button id="profileDropdownBtn" class="flex items-center space-x-2 bg-gray-100 hover:bg-gray-200 rounded-full p-1 pr-3 transition-colors">
        <div class="w-8 h-8 rounded-full bg-primary text-white flex items-center justify-center">
          <span class="text-sm font-medium">A</span>
        </div>
        <span class="text-sm font-medium text-gray-800">Admin</span>
        <i class="ri-arrow-down-s-line text-gray-500"></i>
      </button>
      <!-- Dropdown Menu -->
      <div id="profileDropdown" class="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-1 z-10 hidden">
        <div class="px-4 py-3 border-b border-gray-100">
          <p class="text-sm font-medium text-gray-800">Admin User</p>
          <p class="text-xs text-gray-500">SLRCLPUBATANGAS</p>
        </div>
        <ul>
          <li>
            <div id="appearanceToggle" class="relative">
              <button class="w-full flex items-center justify-between px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                <div class="flex items-center">
                  <i class="ri-contrast-2-line mr-2 text-gray-500"></i>
                  <span>Appearance</span>
                </div>
                <i class="ri-arrow-right-s-line text-gray-500"></i>
              </button>
              <!-- Appearance Submenu -->
              <div id="appearanceSubmenu" class="absolute left-full top-0 w-48 bg-white rounded-lg shadow-lg py-1 z-20 hidden">
                <div class="px-4 py-2 border-b border-gray-100">
                  <p class="text-sm font-medium text-gray-800">Theme</p>
                </div>
                <ul>
                  <li>
                    <button id="lightThemeBtn" class="w-full flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                      <div class="flex items-center justify-between w-full">
                        <span>Light</span>
                        <i class="ri-check-line text-primary hidden" id="lightThemeCheck"></i>
                      </div>
                    </button>
                  </li>
                  <li>
                    <button id="darkThemeBtn" class="w-full flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                      <div class="flex items-center justify-between w-full">
                        <span>Dark</span>
                        <i class="ri-check-line text-primary hidden" id="darkThemeCheck"></i>
                      </div>
                    </button>
                  </li>
                  <li>
                    <button id="systemThemeBtn" class="w-full flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                      <div class="flex items-center justify-between w-full">
                        <span>System theme</span>
                        <i class="ri-check-line text-primary hidden" id="systemThemeCheck"></i>
                      </div>
                    </button>
                  </li>
                </ul>
              </div>
            </div>
          </li>
          <li>
            <button id="adminLogoutBtn" class="w-full flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
              <i class="ri-logout-box-line mr-2 text-gray-500"></i>
              Logout
            </button>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
</div>

</header>
<!-- Main Content -->
<main class="flex-grow container mx-auto px-4 py-8">
<div id="submissionForm" class="max-w-4xl mx-auto bg-white shadow-md rounded p-8 form-glow">
<h2 class="text-2xl font-semibold text-gray-800 mb-6">Research Record Submission</h2>
<!-- User Type Selection -->
<div class="mb-8">
<h3 class="text-lg font-medium text-gray-700 mb-3">Select User Type:</h3>
<div class="flex space-x-6">
<label class="custom-radio flex items-center cursor-pointer">
<input type="radio" name="userType" value="lpu" checked id="lpuRadio">
<span class="radio-mark"></span>
<span class="text-gray-800">LPU Student</span>
</label>
<label class="custom-radio flex items-center cursor-pointer">
<input type="radio" name="userType" value="non-lpu" id="nonLpuRadio">
<span class="radio-mark"></span>
<span class="text-gray-800">Non-LPU Student</span>
</label>
</div>
</div>
<!-- Form -->
<form id="researchForm" class="space-y-6">
<!-- Common Fields -->
<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
<div class="col-span-2 md:col-span-1">
<label for="fullName" class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
<input type="text" id="fullName" name="fullName" class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" required>
</div>
<!-- LPU Student Fields -->
<div id="lpuFields" class="col-span-2 md:col-span-1">
<label for="studentNumber" class="block text-sm font-medium text-gray-700 mb-1">Student Number</label>
<input type="text" id="studentNumber" name="studentNumber" class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" required>
</div>
<div id="campusField" class="col-span-2 md:col-span-1">
<label for="campus" class="block text-sm font-medium text-gray-700 mb-1">Campus</label>
<div class="relative">
<select id="campus" name="campus" class="w-full px-4 py-2 border border-gray-300 rounded appearance-none focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent pr-8" required>
<option value="">Select Campus</option>
<option value="Main Campus">Main Campus</option>
<option value="LIMA Campus">LIMA Campus</option>
<option value="Riverside Campus">Riverside Campus</option>
</select>
<div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
<i class="ri-arrow-down-s-line text-gray-500"></i>
</div>
</div>
</div>
<div id="programField" class="col-span-2 md:col-span-1">
<label for="program" class="block text-sm font-medium text-gray-700 mb-1">Program/Department</label>
<div class="relative">
<select id="program" name="program" class="w-full px-4 py-2 border border-gray-300 rounded appearance-none focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent pr-8" required>
<option value="">Select Program/Department</option>
<optgroup label="College of Nursing">
  <option value="BS Nursing">BS Nursing</option>
</optgroup>
<optgroup label="College of International Tourism & Hospitality Management">
  <option value="BS International Travel and Tourism Management">BS International Travel and Tourism Management</option>
  <option value="BS International Hospitality Management">BS International Hospitality Management</option>
  <option value="Associate in International Travel & Tourism Management">Associate in International Travel & Tourism Management</option>
  <option value="Associate in International Hospitality Management">Associate in International Hospitality Management</option>
</optgroup>
<optgroup label="College of Business Administration">
  <option value="BS Accountancy">BS Accountancy</option>
  <option value="BS Business Administration">BS Business Administration</option>
  <option value="BS Customs Administration">BS Customs Administration</option>
</optgroup>
<optgroup label="College of Criminal Justice Education">
  <option value="BS Criminology">BS Criminology</option>
  <option value="Bachelor of Forensic Science">Bachelor of Forensic Science</option>
</optgroup>
<optgroup label="College of Dentistry">
  <option value="Doctor of Dental Medicine">Doctor of Dental Medicine</option>
</optgroup>
<optgroup label="College of Computing, Arts and Sciences">
  <option value="AB Communication">AB Communication</option>
  <option value="AB Psychology">AB Psychology</option>
  <option value="BS Psychology">BS Psychology</option>
  <option value="Bachelor of Multimedia Arts">Bachelor of Multimedia Arts</option>
  <option value="BS Computer Science">BS Computer Science</option>
  <option value="BS Information Technology">BS Information Technology</option>
</optgroup>
<optgroup label="College of Allied Medical Professions">
  <option value="BS Biology (Medical Biology)">BS Biology (Medical Biology)</option>
  <option value="BS Medical Laboratory Science">BS Medical Laboratory Science</option>
  <option value="BS Pharmacy">BS Pharmacy</option>
  <option value="BS Physical Therapy">BS Physical Therapy</option>
  <option value="BS Radiologic Technology">BS Radiologic Technology</option>
</optgroup>
<optgroup label="Lyceum International Maritime Academy">
  <option value="BS Marine Transportation">BS Marine Transportation</option>
  <option value="BS Marine Engineering">BS Marine Engineering</option>
</optgroup>
<optgroup label="Expanded Tertiary Education Equivalency and Accreditation Program (ETEEAP)">
  <option value="ETEEAP - BS Business Administration">BS Business Administration</option>
  <option value="ETEEAP - BS Criminology">BS Criminology</option>
  <option value="ETEEAP - BS Information Technology">BS Information Technology</option>
  <option value="ETEEAP - BS International Hospitality Management">BS International Hospitality Management</option>
  <option value="ETEEAP - BS Nursing">BS Nursing</option>
</optgroup>
<optgroup label="Center for Technical Education">
  <option value="Certificate in Culinary Arts">Certificate in Culinary Arts</option>
  <option value="Certificate in Pastry Arts">Certificate in Pastry Arts</option>
</optgroup>
</select>
<div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
<i class="ri-arrow-down-s-line text-gray-500"></i>
</div>
</div>
</div>
<!-- Non-LPU Student Fields -->
<div id="schoolField" class="col-span-2 hidden">
<label for="schoolName" class="block text-sm font-medium text-gray-700 mb-1">Name of School</label>
<input type="text" id="schoolName" name="schoolName" class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
</div>
<!-- Thesis Title (Common) -->
<div class="col-span-2">
<label for="thesisTitle" class="block text-sm font-medium text-gray-700 mb-1">Title of Thesis</label>
<div class="relative">
  <input type="text" id="thesisTitle" name="thesisTitle" class="w-full px-4 py-2 pl-10 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" 
         placeholder="Type to search existing thesis titles..." required>
  <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
    <i class="ri-search-line text-gray-400"></i>
  </div>
  <div id="thesisTitleSuggestions" class="absolute z-10 w-full mt-1 bg-white shadow-lg rounded-md border border-gray-200 max-h-60 overflow-y-auto hidden"></div>
</div>
</div>
</div>
<!-- Submit Button -->
<div class="flex justify-end">
<button type="submit" class="bg-primary text-white px-6 py-3 !rounded-button font-medium hover:bg-opacity-90 transition flex items-center whitespace-nowrap submit-btn-glow">
<i class="ri-save-line mr-2"></i>
Submit Research Record
</button>
</div>
</form>
<!-- Success Modal (Hidden by default) -->
<div id="successModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
<div class="bg-white rounded-lg shadow-xl max-w-md w-full mx-auto overflow-hidden">
<div class="bg-primary px-6 py-4 flex justify-between items-center">
<h3 class="text-xl font-medium text-white flex items-center">
<i class="ri-file-list-line mr-2"></i>
Review Submission
</h3>
<button id="closeModalBtn" class="text-white hover:text-gray-200">
<i class="ri-close-line text-xl"></i>
</button>
</div>
<div class="px-6 py-4">
<div class="mb-4">
<p class="text-gray-700 mb-2">Please review your submission details before confirming.</p>
</div>
<div class="border rounded-lg p-4 bg-gray-50 mb-4">
<h4 class="font-medium text-gray-800 mb-2">Submission Details</h4>
<div class="space-y-2 text-sm">
<div class="grid grid-cols-3">
<span class="text-gray-600 col-span-1">User Type:</span>
<span id="summaryUserType" class="font-medium col-span-2"></span>
</div>
<div class="grid grid-cols-3">
<span class="text-gray-600 col-span-1">Full Name:</span>
<span id="summaryName" class="font-medium col-span-2"></span>
</div>
<div id="summaryStudentNumberRow" class="grid grid-cols-3">
<span class="text-gray-600 col-span-1">Student Number:</span>
<span id="summaryStudentNumber" class="font-medium col-span-2"></span>
</div>
<div id="summaryCampusRow" class="grid grid-cols-3">
<span class="text-gray-600 col-span-1">Campus:</span>
<span id="summaryCampus" class="font-medium col-span-2"></span>
</div>
<div id="summaryProgramRow" class="grid grid-cols-3">
<span class="text-gray-600 col-span-1">Program:</span>
<span id="summaryProgram" class="font-medium col-span-2"></span>
</div>
<div id="summarySchoolRow" class="grid grid-cols-3 hidden">
<span class="text-gray-600 col-span-1">School:</span>
<span id="summarySchool" class="font-medium col-span-2"></span>
</div>
<div class="grid grid-cols-3">
<span class="text-gray-600 col-span-1">Thesis Title:</span>
<span id="summaryThesis" class="font-medium col-span-2"></span>
</div>
<div class="grid grid-cols-3">
<span class="text-gray-600 col-span-1">Date:</span>
<span id="summaryDate" class="font-medium col-span-2"></span>
</div>
</div>
</div>
<div class="flex justify-between">
<button id="editSubmissionBtn" class="bg-gray-100 text-gray-800 px-4 py-2 !rounded-button font-medium hover:bg-gray-200 transition flex items-center whitespace-nowrap">
<i class="ri-edit-line mr-2"></i>
Edit
</button>
<button id="confirmSubmissionBtn" class="bg-primary text-white px-4 py-2 !rounded-button font-medium hover:bg-opacity-90 transition whitespace-nowrap">
Confirm
</button>
</div>
</div>
</div>
</div>
</div>
<!-- Admin Login Modal (Hidden by default) -->
<div id="adminLoginModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
<div class="bg-white rounded-lg shadow-xl max-w-md w-full mx-auto overflow-hidden">
<div class="bg-primary px-6 py-4 flex justify-between items-center">
<h3 class="text-xl font-medium text-white flex items-center">
<i class="ri-admin-line mr-2"></i>
Admin Login
</h3>
<button id="closeLoginModalBtn" class="text-white hover:text-gray-200">
<i class="ri-close-line text-xl"></i>
</button>
</div>
<div class="px-6 py-6">
<form id="adminLoginForm" class="space-y-4">
<div>
<label for="adminUsername" class="block text-sm font-medium text-gray-700 mb-1">Username</label>
<input type="text" id="adminUsername" name="adminUsername" class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" required>
</div>
<div>
<label for="adminPassword" class="block text-sm font-medium text-gray-700 mb-1">Password</label>
<div class="relative">
<input type="password" id="adminPassword" name="adminPassword" class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" required>
<button type="button" id="togglePassword" class="absolute right-3 top-1/2 transform -translate-y-1/2">
<i class="ri-eye-off-line text-gray-500"></i>
</button>
</div>
</div>
<div id="loginError" class="hidden text-red-500 text-sm"></div>
<button type="submit" class="w-full bg-primary text-white px-4 py-3 !rounded-button font-medium hover:bg-opacity-90 transition whitespace-nowrap">
Login
</button>
</form>
</div>
</div>
</div>
<!-- Admin Dashboard (Hidden by default) -->
<div id="adminDashboard" class="hidden w-full mx-auto mt-12 bg-white shadow-md rounded p-8">
  <!-- Admin content without internal navigation bar -->
  <!-- Admin Header -->
  <div class="mb-6">
    <div class="flex justify-between items-center mb-4">
      <h2 class="text-2xl font-semibold text-gray-800">Admin Dashboard</h2>
    </div>
    <div class="border-b border-gray-200">
      <ul class="flex flex-wrap -mb-px text-sm font-medium text-center">
        <li class="mr-2">
          <a href="#" id="recordsTabBtn" class="inline-block p-4 border-b-2 border-primary text-primary rounded-t-lg active" aria-current="page">
            <i class="ri-file-list-line mr-2"></i>Research Records
          </a>
        </li>
        <li class="mr-2">
          <a href="#" id="statisticsTabBtn" class="inline-block p-4 border-b-2 border-transparent hover:text-gray-600 hover:border-gray-300 rounded-t-lg">
            <i class="ri-bar-chart-line mr-2"></i>Statistics
          </a>
        </li>
        <li class="mr-2">
          <a href="#" id="thesisTabBtn" class="inline-block p-4 border-b-2 border-transparent hover:text-gray-600 hover:border-gray-300 rounded-t-lg">
            <i class="ri-file-paper-2-line mr-2"></i>Thesis Details
          </a>
        </li>
      </ul>
    </div>
  </div>

  <!-- Records Tab Content -->
  <div id="recordsTabContent">
    <!-- Search and Filter Section (Only in Records Tab) -->
    <div class="mb-6">
      <div class="flex flex-col md:flex-row md:justify-between md:items-center gap-4">
        <div class="flex">
          <div class="relative">
            <select id="searchField" class="w-full px-4 py-2 border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent appearance-none pr-8">
              <option value="all">All Fields</option>
              <option value="name">Name</option>
              <option value="studentNumber">Student Number</option>
              <option value="campus">Campus</option>
              <option value="program">Program/Department</option>
              <option value="school">School Name</option>
              <option value="thesisTitle">Thesis Title</option>
            </select>
            <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
              <i class="ri-arrow-down-s-line text-gray-500"></i>
            </div>
          </div>
          <div class="relative flex-grow">
            <input type="text" id="searchInput" placeholder="Search records..." class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-r-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
            <div class="absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 flex items-center justify-center">
              <i class="ri-search-line text-gray-500"></i>
            </div>
          </div>
        </div>
        <div class="flex flex-col sm:flex-row gap-2">
          <div class="relative">
            <select id="userTypeFilter" class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent appearance-none pr-8">
              <option value="all">All Users</option>
              <option value="lpu">LPU Students</option>
              <option value="non-lpu">Non-LPU Students</option>
            </select>
            <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
              <i class="ri-arrow-down-s-line text-gray-500"></i>
            </div>
          </div>
          <div class="relative">
            <select id="campusFilter" class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent appearance-none pr-8">
              <option value="all">All Campuses</option>
              <option value="Main Campus">Main Campus</option>
              <option value="LIMA Campus">LIMA Campus</option>
              <option value="Riverside Campus">Riverside Campus</option>
            </select>
            <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
              <i class="ri-arrow-down-s-line text-gray-500"></i>
            </div>
          </div>
          <div class="relative">
            <input type="date" id="dateFilter" class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
          </div>
        </div>
        <button id="adminExportBtn" class="bg-primary text-white px-4 py-2 !rounded-button font-medium hover:bg-opacity-90 transition flex items-center whitespace-nowrap justify-center">
          <i class="ri-download-line mr-2"></i>
          Export Records
        </button>
      </div>
    </div>
    <!-- Records Table -->
    <div class="overflow-x-auto max-h-[calc(100vh-400px)] overflow-y-auto">
    <table class="min-w-full bg-white table-fixed">
      <thead class="sticky top-0 bg-gray-100">
        <tr class="text-gray-700">
          <th class="py-3 px-2 text-left font-medium w-[10%]">Date</th>
          <th class="py-3 px-2 text-left font-medium w-[8%]">User Type</th>
          <th class="py-3 px-2 text-left font-medium w-[12%]">Name</th>
          <th class="py-3 px-2 text-left font-medium w-[10%]">Student Number</th>
          <th class="py-3 px-2 text-left font-medium w-[10%]">Campus</th>
          <th class="py-3 px-2 text-left font-medium w-[12%]">Program/Department</th>
          <th class="py-3 px-2 text-left font-medium w-[12%]">School Name</th>
          <th class="py-3 px-2 text-left font-medium w-[18%]">Thesis Title</th>
          <th class="py-3 px-2 text-left font-medium w-[8%]">Actions</th>
        </tr>
      </thead>
      <tbody class="divide-y divide-gray-200">
      </tbody>
    </table>
    </div>
  </div>



  <!-- Statistics Tab Content -->
  <div id="statisticsTabContent" class="hidden">
    <div class="flex justify-between items-center mb-6">
      <h3 class="text-lg font-medium text-gray-800">Research Analytics Dashboard</h3>
      <div class="flex items-center space-x-4">
        <div class="relative">
          <select id="statisticsTimeRange" class="w-full pl-3 pr-10 py-2 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent appearance-none">
            <option value="week">Last 7 days</option>
            <option value="month" selected>Last 30 days</option>
            <option value="quarter">Last 3 months</option>
            <option value="year">Last 12 months</option>
          </select>
          <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
            <i class="ri-arrow-down-s-line text-gray-500"></i>
          </div>
        </div>
        <button id="exportStatsBtn" class="bg-primary text-white px-4 py-2 !rounded-button font-medium hover:bg-opacity-90 transition flex items-center whitespace-nowrap">
          <i class="ri-download-line mr-2"></i>
          Export Report
        </button>
      </div>
    </div>
    
    <!-- Statistics Overview Cards -->
    <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
      <div class="bg-white p-6 rounded-lg shadow-md border border-gray-100 hover:shadow-lg transition">
        <div class="flex items-center justify-between mb-4">
          <div class="bg-blue-100 p-3 rounded-full">
            <i class="ri-file-list-line text-blue-600 text-xl"></i>
          </div>
          <span class="text-sm font-medium text-gray-500">Total Submissions</span>
        </div>
        <div class="flex flex-col">
          <span class="text-3xl font-bold text-gray-800">1,248</span>
          <div class="flex items-center mt-2">
            <span class="text-green-500 text-sm font-medium flex items-center">
              <i class="ri-arrow-up-line mr-1"></i> 12.5%
            </span>
            <span class="text-xs text-gray-500 ml-2">vs last period</span>
          </div>
        </div>
      </div>
      
      <div class="bg-white p-6 rounded-lg shadow-md border border-gray-100 hover:shadow-lg transition">
        <div class="flex items-center justify-between mb-4">
          <div class="bg-green-100 p-3 rounded-full">
            <i class="ri-user-line text-green-600 text-xl"></i>
          </div>
          <span class="text-sm font-medium text-gray-500">LPU Students</span>
        </div>
        <div class="flex flex-col">
          <span class="text-3xl font-bold text-gray-800">876</span>
          <div class="flex items-center mt-2">
            <span class="text-green-500 text-sm font-medium flex items-center">
              <i class="ri-arrow-up-line mr-1"></i> 8.3%
            </span>
            <span class="text-xs text-gray-500 ml-2">vs last period</span>
          </div>
        </div>
      </div>
      
      <div class="bg-white p-6 rounded-lg shadow-md border border-gray-100 hover:shadow-lg transition">
        <div class="flex items-center justify-between mb-4">
          <div class="bg-purple-100 p-3 rounded-full">
            <i class="ri-global-line text-purple-600 text-xl"></i>
          </div>
          <span class="text-sm font-medium text-gray-500">External Users</span>
        </div>
        <div class="flex flex-col">
          <span class="text-3xl font-bold text-gray-800">372</span>
          <div class="flex items-center mt-2">
            <span class="text-green-500 text-sm font-medium flex items-center">
              <i class="ri-arrow-up-line mr-1"></i> 18.7%
            </span>
            <span class="text-xs text-gray-500 ml-2">vs last period</span>
          </div>
        </div>
      </div>
      
      <div class="bg-white p-6 rounded-lg shadow-md border border-gray-100 hover:shadow-lg transition">
        <div class="flex items-center justify-between mb-4">
          <div class="bg-yellow-100 p-3 rounded-full">
            <i class="ri-download-line text-yellow-600 text-xl"></i>
          </div>
          <span class="text-sm font-medium text-gray-500">Downloads</span>
        </div>
        <div class="flex flex-col">
          <span class="text-3xl font-bold text-gray-800">3,542</span>
          <div class="flex items-center mt-2">
            <span class="text-green-500 text-sm font-medium flex items-center">
              <i class="ri-arrow-up-line mr-1"></i> 24.2%
            </span>
            <span class="text-xs text-gray-500 ml-2">vs last period</span>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Charts Row -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
      <!-- Submission Trends Chart -->
      <div class="bg-white p-6 rounded-lg shadow-md border border-gray-100">
        <div class="flex items-center justify-between mb-4">
          <h4 class="text-lg font-medium text-gray-800">Submission Trends</h4>
          <div class="flex space-x-2">
            <button class="px-3 py-1 text-xs font-medium bg-primary text-white rounded-full">Weekly</button>
            <button class="px-3 py-1 text-xs font-medium text-gray-600 hover:bg-gray-100 rounded-full">Monthly</button>
          </div>
        </div>
        <div id="submissionTrendsChart" class="w-full h-80"></div>
      </div>
      
      <!-- User Distribution Chart -->
      <div class="bg-white p-6 rounded-lg shadow-md border border-gray-100">
        <div class="flex items-center justify-between mb-4">
          <h4 class="text-lg font-medium text-gray-800">User Distribution</h4>
          <div class="flex space-x-2">
            <button class="px-3 py-1 text-xs font-medium bg-primary text-white rounded-full">By Type</button>
            <button class="px-3 py-1 text-xs font-medium text-gray-600 hover:bg-gray-100 rounded-full">By Campus</button>
          </div>
        </div>
        <div id="userDistributionChart" class="w-full h-80"></div>
      </div>
    </div>
    
    <!-- Bottom Section -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
      <!-- Popular Research Topics -->
      <div class="bg-white p-6 rounded-lg shadow-md border border-gray-100">
        <h4 class="text-lg font-medium text-gray-800 mb-4">Popular Research Topics</h4>
        <div class="space-y-4">
          <div>
            <div class="flex justify-between items-center mb-1">
              <span class="text-sm font-medium text-gray-700">Computer Science</span>
              <span class="text-sm font-semibold text-gray-900">28%</span>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-2">
              <div class="bg-blue-500 h-2 rounded-full" style="width: 28%"></div>
            </div>
          </div>
          <div>
            <div class="flex justify-between items-center mb-1">
              <span class="text-sm font-medium text-gray-700">Business Admin</span>
              <span class="text-sm font-semibold text-gray-900">22%</span>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-2">
              <div class="bg-green-500 h-2 rounded-full" style="width: 22%"></div>
            </div>
          </div>
          <div>
            <div class="flex justify-between items-center mb-1">
              <span class="text-sm font-medium text-gray-700">Nursing</span>
              <span class="text-sm font-semibold text-gray-900">18%</span>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-2">
              <div class="bg-yellow-500 h-2 rounded-full" style="width: 18%"></div>
            </div>
          </div>
          <div>
            <div class="flex justify-between items-center mb-1">
              <span class="text-sm font-medium text-gray-700">Psychology</span>
              <span class="text-sm font-semibold text-gray-900">15%</span>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-2">
              <div class="bg-purple-500 h-2 rounded-full" style="width: 15%"></div>
            </div>
          </div>
          <div>
            <div class="flex justify-between items-center mb-1">
              <span class="text-sm font-medium text-gray-700">Tourism</span>
              <span class="text-sm font-semibold text-gray-900">12%</span>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-2">
              <div class="bg-red-500 h-2 rounded-full" style="width: 12%"></div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Most Active Users -->
      <div class="bg-white p-6 rounded-lg shadow-md border border-gray-100">
        <h4 class="text-lg font-medium text-gray-800 mb-4">Most Active Users</h4>
        <div class="space-y-4">
          <div class="flex items-center">
            <div class="flex-shrink-0 w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center mr-3">
              <span class="text-xs font-medium text-blue-800">MJ</span>
            </div>
            <div class="flex-grow">
              <h5 class="text-sm font-medium text-gray-900">Michael Johnson</h5>
              <p class="text-xs text-gray-500">Computer Science ‚Ä¢ 42 submissions</p>
            </div>
            <div class="flex-shrink-0">
              <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800">
                #1
              </span>
            </div>
          </div>
          <div class="flex items-center">
            <div class="flex-shrink-0 w-8 h-8 rounded-full bg-green-100 flex items-center justify-center mr-3">
              <span class="text-xs font-medium text-green-800">ER</span>
            </div>
            <div class="flex-grow">
              <h5 class="text-sm font-medium text-gray-900">Emily Rodriguez</h5>
              <p class="text-xs text-gray-500">Psychology ‚Ä¢ 38 submissions</p>
            </div>
            <div class="flex-shrink-0">
              <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800">
                #2
              </span>
            </div>
          </div>
          <div class="flex items-center">
            <div class="flex-shrink-0 w-8 h-8 rounded-full bg-yellow-100 flex items-center justify-center mr-3">
              <span class="text-xs font-medium text-yellow-800">DT</span>
            </div>
            <div class="flex-grow">
              <h5 class="text-sm font-medium text-gray-900">David Thompson</h5>
              <p class="text-xs text-gray-500">Business Admin ‚Ä¢ 35 submissions</p>
            </div>
            <div class="flex-shrink-0">
              <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800">
                #3
              </span>
            </div>
          </div>
          <div class="flex items-center">
            <div class="flex-shrink-0 w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center mr-3">
              <span class="text-xs font-medium text-purple-800">SW</span>
            </div>
            <div class="flex-grow">
              <h5 class="text-sm font-medium text-gray-900">Sarah Williams</h5>
              <p class="text-xs text-gray-500">Nursing ‚Ä¢ 29 submissions</p>
            </div>
            <div class="flex-shrink-0">
              <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-purple-100 text-purple-800">
                #4
              </span>
            </div>
          </div>
          <div class="flex items-center">
            <div class="flex-shrink-0 w-8 h-8 rounded-full bg-red-100 flex items-center justify-center mr-3">
              <span class="text-xs font-medium text-red-800">RC</span>
            </div>
            <div class="flex-grow">
              <h5 class="text-sm font-medium text-gray-900">Robert Chen</h5>
              <p class="text-xs text-gray-500">Engineering ‚Ä¢ 24 submissions</p>
            </div>
            <div class="flex-shrink-0">
              <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800">
                #5
              </span>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Recent Activity -->
      <div class="bg-white p-6 rounded-lg shadow-md border border-gray-100">
        <div class="flex items-center justify-between mb-4">
          <h4 class="text-lg font-medium text-gray-800">Recent Activity</h4>
          <a href="#" class="text-sm font-medium text-primary hover:text-primary-dark">View All</a>
        </div>
        <div class="space-y-4">
          <div class="flex items-start">
            <div class="flex-shrink-0 w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center mr-3">
              <i class="ri-file-upload-line text-blue-600 text-sm"></i>
            </div>
            <div>
              <h5 class="text-sm font-medium text-gray-900">New submission from Maria Alvarez</h5>
              <p class="text-xs text-gray-500">2 minutes ago ‚Ä¢ Engineering</p>
            </div>
          </div>
          <div class="flex items-start">
            <div class="flex-shrink-0 w-8 h-8 rounded-full bg-green-100 flex items-center justify-center mr-3">
              <i class="ri-download-line text-green-600 text-sm"></i>
            </div>
            <div>
              <h5 class="text-sm font-medium text-gray-900">Robert Garcia downloaded "Financial Analysis of Local SMEs"</h5>
              <p class="text-xs text-gray-500">15 minutes ago ‚Ä¢ Business Administration</p>
            </div>
          </div>
          <div class="flex items-start">
            <div class="flex-shrink-0 w-8 h-8 rounded-full bg-yellow-100 flex items-center justify-center mr-3">
              <i class="ri-user-add-line text-yellow-600 text-sm"></i>
            </div>
            <div>
              <h5 class="text-sm font-medium text-gray-900">New external user registered: Jennifer Santos</h5>
              <p class="text-xs text-gray-500">32 minutes ago ‚Ä¢ Arts and Humanities</p>
            </div>
          </div>
          <div class="flex items-start">
            <div class="flex-shrink-0 w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center mr-3">
              <i class="ri-file-search-line text-purple-600 text-sm"></i>
            </div>
            <div>
              <h5 class="text-sm font-medium text-gray-900">Carlos Mendoza viewed "Machine Learning Applications"</h5>
              <p class="text-xs text-gray-500">45 minutes ago ‚Ä¢ Computer Science</p>
            </div>
          </div>
          <div class="flex items-start">
            <div class="flex-shrink-0 w-8 h-8 rounded-full bg-red-100 flex items-center justify-center mr-3">
              <i class="ri-edit-line text-red-600 text-sm"></i>
            </div>
            <div>
              <h5 class="text-sm font-medium text-gray-900">Admin updated research material guidelines</h5>
              <p class="text-xs text-gray-500">1 hour ago ‚Ä¢ System</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Thesis Details Tab Content -->
  <div id="thesisTabContent" class="hidden">
    <div class="flex justify-between items-center mb-6">
      <h3 class="text-lg font-medium text-gray-800">Thesis Repository</h3>
      <div class="flex items-center space-x-4">
        <button id="thesisExportBtn" class="bg-indigo-600 text-white px-4 py-2 !rounded-button font-medium hover:bg-indigo-700 transition whitespace-nowrap flex items-center">
          <i class="ri-download-line mr-2"></i>Export
        </button>
      </div>
    </div>
    
    <!-- Upload method selection tabs -->
    <div class="bg-white p-6 rounded-lg shadow-md border border-gray-100 mb-8">
      <div class="border-b border-gray-200 mb-6">
        <ul class="flex flex-wrap -mb-px text-sm font-medium text-center" role="tablist">
          <li class="mr-2" role="presentation">
            <button id="thesisDetailsTabBtn" class="inline-block p-4 border-b-2 border-primary text-primary rounded-t-lg active" type="button" role="tab" aria-selected="true">
              <i class="ri-file-list-line mr-2"></i>Insert Thesis Details
            </button>
          </li>
          <li class="mr-2" role="presentation">
            <button id="thesisDocumentTabBtn" class="inline-block p-4 border-b-2 border-transparent hover:text-gray-600 hover:border-gray-300 rounded-t-lg" type="button" role="tab" aria-selected="false">
              <i class="ri-upload-cloud-line mr-2"></i>Upload Thesis Document
            </button>
          </li>
          <li class="mr-2" role="presentation">
            <button id="thesisDatabaseTabBtn" class="inline-block p-4 border-b-2 border-transparent hover:text-gray-600 hover:border-gray-300 rounded-t-lg" type="button" role="tab" aria-selected="false">
              <i class="ri-database-2-line mr-2"></i>Thesis Database Table
            </button>
          </li>
        </ul>
      </div>
      
      <!-- Insert Thesis Details Form -->
      <div id="thesisDetailsTabContent" class="block">
        <h4 class="text-lg font-medium text-gray-800 mb-4">Enter Thesis Details</h4>
        <form id="thesisUploadForm" class="space-y-6">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="col-span-2 md:col-span-1">
            <label for="thesisTitle" class="block text-sm font-medium text-gray-700 mb-1">Thesis Title</label>
            <input type="text" id="thesisTitle" name="thesisTitle" class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" required>
          </div>
          
          <div class="col-span-2 md:col-span-1">
            <label for="thesisAuthor" class="block text-sm font-medium text-gray-700 mb-1">Author Name</label>
            <input type="text" id="thesisAuthor" name="thesisAuthor" class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" required>
          </div>
          
          <div class="col-span-2 md:col-span-1">
            <label for="thesisDepartment" class="block text-sm font-medium text-gray-700 mb-1">Department/Program</label>
            <select id="thesisDepartment" name="thesisDepartment" class="w-full px-4 py-2 border border-gray-300 rounded appearance-none focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent pr-8" required>
              <option value="">Select Department/Program</option>
              <option value="Computer Science">Computer Science</option>
              <option value="Information Technology">Information Technology</option>
              <option value="Business Administration">Business Administration</option>
              <option value="Psychology">Psychology</option>
              <option value="Nursing">Nursing</option>
              <option value="Engineering">Engineering</option>
              <option value="Education">Education</option>
              <option value="Other">Other</option>
            </select>
          </div>
          
          <div class="col-span-2 md:col-span-1">
            <label for="thesisYear" class="block text-sm font-medium text-gray-700 mb-1">Year Completed</label>
            <input type="number" id="thesisYear" name="thesisYear" min="1900" max="2099" step="1" class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" required>
          </div>
          
          <div class="col-span-2">
            <label for="thesisAbstract" class="block text-sm font-medium text-gray-700 mb-1">Abstract</label>
            <textarea id="thesisAbstract" name="thesisAbstract" rows="4" class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" required></textarea>
          </div>
          
          <div class="col-span-2">
            <label for="thesisKeywords" class="block text-sm font-medium text-gray-700 mb-1">Keywords (comma separated)</label>
            <input type="text" id="thesisKeywords" name="thesisKeywords" class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" placeholder="e.g. education, technology, research" required>
          </div>
        </div>
        
        <div class="flex justify-end">
          <button type="submit" id="submitThesisBtn" class="bg-primary text-white px-6 py-2 !rounded-button font-medium hover:bg-opacity-90 transition">
            <i class="ri-save-line mr-2"></i>Save Thesis
          </button>
        </div>
      </form>
      </div>
      
      <!-- Upload Thesis Document Content -->
      <div id="thesisDocumentTabContent" class="hidden">
        <h4 class="text-lg font-medium text-gray-800 mb-4">Upload Thesis Document</h4>
        <p class="text-gray-600 mb-4">Upload a document containing multiple thesis records. The system will extract and process all thesis details from the document.</p>
        
        <form id="thesisDocumentUploadForm" class="space-y-6">
          <div class="grid grid-cols-1 gap-6">
            <div class="col-span-1">
              <label class="block text-sm font-medium text-gray-700 mb-3">Select Document Type</label>
              
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-2">
                <!-- PDF Upload Option -->
                <label for="thesisDocPdfUpload" class="cursor-pointer bg-white border border-gray-200 rounded-lg p-4 text-center hover:shadow-md transition">
                  <div class="w-12 h-12 mx-auto bg-red-100 rounded-full flex items-center justify-center mb-3">
                    <i class="ri-file-pdf-line text-red-600 text-2xl"></i>
                  </div>
                  <h4 class="text-sm font-medium text-gray-800">PDF Document</h4>
                  <p class="text-xs text-gray-500 mt-1">Upload PDF with multiple thesis records</p>
                  <input type="file" id="thesisDocPdfUpload" name="thesisDocPdfUpload" accept=".pdf" class="hidden" />
                </label>
                
                <!-- Excel Upload Option -->
                <label for="thesisDocExcelUpload" class="cursor-pointer bg-white border border-gray-200 rounded-lg p-4 text-center hover:shadow-md transition">
                  <div class="w-12 h-12 mx-auto bg-green-100 rounded-full flex items-center justify-center mb-3">
                    <i class="ri-file-excel-line text-green-600 text-2xl"></i>
                  </div>
                  <h4 class="text-sm font-medium text-gray-800">Excel Spreadsheet</h4>
                  <p class="text-xs text-gray-500 mt-1">Upload XLSX with multiple thesis records</p>
                  <input type="file" id="thesisDocExcelUpload" name="thesisDocExcelUpload" accept=".xlsx,.xls" class="hidden" />
                </label>
              </div>
              
              <div id="docSelectedFileInfo" class="hidden mt-4 p-3 bg-gray-100 rounded-lg">
                <div class="flex items-center">
                  <i class="ri-file-line text-gray-600 mr-2"></i>
                  <div class="text-sm">
                    <p id="docSelectedFileName" class="font-medium">No file selected</p>
                    <p id="docSelectedFileSize" class="text-gray-500">0 KB</p>
                  </div>
                  <button type="button" id="docRemoveSelectedFile" class="ml-auto text-gray-500 hover:text-red-500">
                    <i class="ri-close-line"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>
          
          <div class="flex justify-end">
            <button type="submit" id="submitDocumentBtn" class="bg-primary text-white px-6 py-2 !rounded-button font-medium hover:bg-opacity-90 transition" disabled>
              <i class="ri-upload-cloud-line mr-2"></i>Upload Document
            </button>
          </div>
        </form>
      </div>
      
      <!-- Thesis Database Table Content -->
      <div id="thesisDatabaseTabContent" class="hidden">
        <div class="mb-6">
          <h4 class="text-lg font-medium text-gray-800 mb-4">Thesis Database</h4>
          <p class="text-gray-600 mb-4">View and manage all thesis records in the system.</p>
          
          <!-- Search and Filter Section -->
          <div class="flex flex-col md:flex-row items-center justify-between gap-4 mb-4">
            <div class="relative w-full md:w-1/3">
              <input type="text" id="thesisSearchInput" placeholder="Search thesis records..." class="w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
              <button id="thesisSearchBtn" class="absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-primary">
                <i class="ri-search-line text-lg"></i>
              </button>
            </div>
            
            <div class="flex flex-wrap items-center gap-2">
              <!-- Department Filter -->
              <select id="thesisDeptFilter" class="px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent bg-white">
                <option value="all">All Departments</option>
                <option value="Computer Science">Computer Science</option>
                <option value="Information Technology">Information Technology</option>
                <option value="Business Administration">Business Administration</option>
                <option value="Psychology">Psychology</option>
                <option value="Nursing">Nursing</option>
                <option value="Engineering">Engineering</option>
                <option value="Education">Education</option>
              </select>
              
              <!-- Year Filter -->
              <select id="thesisYearFilter" class="px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent bg-white">
                <option value="all">All Years</option>
                <option value="2024">2024</option>
                <option value="2023">2023</option>
                <option value="2022">2022</option>
                <option value="2021">2021</option>
                <option value="2020">2020</option>
              </select>
              
              <!-- Type Filter -->
              <select id="thesisTypeFilter" class="px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent bg-white">
                <option value="all">All Types</option>
                <option value="manual">Manually Added</option>
                <option value="pdf">PDF Documents</option>
                <option value="excel">Excel Documents</option>
              </select>
            </div>
          </div>
          
          <!-- Thesis Records Table -->
          <div class="overflow-x-auto mt-4">
            <table id="thesisTable" class="w-full min-w-full divide-y divide-gray-200">
              <thead class="bg-gray-50">
                <tr>
                  <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:text-primary transition" data-sort="title">
                    <div class="flex items-center">
                      Title
                      <i class="ri-arrow-up-s-line ml-1 text-gray-400"></i>
                    </div>
                  </th>
                  <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:text-primary transition" data-sort="author">
                    <div class="flex items-center">
                      Author
                      <i class="ri-arrow-up-s-line ml-1 text-gray-400"></i>
                    </div>
                  </th>
                  <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:text-primary transition" data-sort="department">
                    <div class="flex items-center">
                      Department
                      <i class="ri-arrow-up-s-line ml-1 text-gray-400"></i>
                    </div>
                  </th>
                  <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:text-primary transition" data-sort="year">
                    <div class="flex items-center">
                      Year
                      <i class="ri-arrow-up-s-line ml-1 text-gray-400"></i>
                    </div>
                  </th>
                  <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:text-primary transition" data-sort="uploadDate">
                    <div class="flex items-center">
                      Upload Date
                      <i class="ri-arrow-up-s-line ml-1 text-gray-400"></i>
                    </div>
                  </th>
                  <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    Type
                  </th>
                  <th scope="col" class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">
                    Actions
                  </th>
                </tr>
              </thead>
              <tbody id="thesisTableBody" class="bg-white divide-y divide-gray-200">
                <!-- Table rows will be populated via JavaScript -->
                <tr class="text-gray-500 text-center">
                  <td colspan="7" class="px-6 py-12">No thesis records found. Add records using the other tabs.</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Placeholder for additional content if needed -->
    <div class="bg-white p-6 rounded-lg shadow-md border border-gray-100 mt-6">
      <p class="text-gray-500 text-center py-8">Choose an upload method from the tabs above.</p>
    </div>
  </div>
</div>
</main>
</div>
<!-- Delete Confirmation Modal -->
<div id="deleteConfirmationModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
  <div class="bg-white rounded-lg shadow-xl max-w-md w-full mx-auto overflow-hidden">
    <div class="bg-primary px-6 py-4 flex justify-between items-center">
      <h3 class="text-xl font-medium text-white flex items-center">
        <i class="ri-delete-bin-line mr-2"></i>
        Confirm Deletion
      </h3>
      <button id="closeDeleteModalBtn" class="text-white hover:text-gray-200">
        <i class="ri-close-line text-xl"></i>
      </button>
    </div>
    <div class="px-6 py-4">
      <div class="mb-6">
        <p class="text-gray-700">Are you sure you want to delete this research record? This action cannot be undone.</p>
      </div>
      <div class="flex justify-end space-x-4">
        <button id="cancelDeleteBtn" class="bg-gray-100 text-gray-800 px-4 py-2 !rounded-button font-medium hover:bg-gray-200 transition">
          Cancel
        </button>
        <button id="confirmDeleteBtn" class="bg-red-600 text-white px-4 py-2 !rounded-button font-medium hover:bg-red-700 transition">
          Delete
        </button>
      </div>
    </div>
  </div>
</div>
<!-- Edit Modal -->
<div id="editModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
  <div class="bg-white rounded-lg shadow-xl max-w-2xl w-full mx-auto overflow-hidden">
    <div class="bg-primary px-6 py-4 flex justify-between items-center">
      <h3 class="text-xl font-medium text-white flex items-center">
        <i class="ri-edit-line mr-2"></i>
        Edit Research Record
      </h3>
      <button id="closeEditModalBtn" class="text-white hover:text-gray-200">
        <i class="ri-close-line text-xl"></i>
      </button>
    </div>
    <div class="px-6 py-4">
      <form id="editForm" class="space-y-6">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="col-span-2">
            <label class="block text-sm font-medium text-gray-700 mb-3">User Type:</label>
            <div class="flex space-x-6">
              <label class="custom-radio flex items-center cursor-pointer">
                <input type="radio" name="editUserType" value="lpu" id="editLpuRadio">
                <span class="radio-mark"></span>
                <span class="text-gray-800">LPU Student</span>
              </label>
              <label class="custom-radio flex items-center cursor-pointer">
                <input type="radio" name="editUserType" value="non-lpu" id="editNonLpuRadio">
                <span class="radio-mark"></span>
                <span class="text-gray-800">Non-LPU Student</span>
              </label>
            </div>
          </div>
          <div class="col-span-2 md:col-span-1">
            <label for="editFullName" class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
            <input type="text" id="editFullName" name="editFullName" class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" required>
          </div>
          <div id="editLpuFields" class="col-span-2 md:col-span-1">
            <label for="editStudentNumber" class="block text-sm font-medium text-gray-700 mb-1">Student Number</label>
            <input type="text" id="editStudentNumber" name="editStudentNumber" class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
          </div>
          <div id="editCampusField" class="col-span-2 md:col-span-1">
            <label for="editCampus" class="block text-sm font-medium text-gray-700 mb-1">Campus</label>
            <div class="relative">
              <select id="editCampus" name="editCampus" class="w-full px-4 py-2 border border-gray-300 rounded appearance-none focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent pr-8">
                <option value="">Select Campus</option>
                <option value="Main Campus">Main Campus</option>
                <option value="LIMA Campus">LIMA Campus</option>
                <option value="Riverside Campus">Riverside Campus</option>
              </select>
              <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                <i class="ri-arrow-down-s-line text-gray-500"></i>
              </div>
            </div>
          </div>
          <div id="editProgramField" class="col-span-2 md:col-span-1">
            <label for="editProgram" class="block text-sm font-medium text-gray-700 mb-1">Program/Department</label>
            <div class="relative">
              <select id="editProgram" name="editProgram" class="w-full px-4 py-2 border border-gray-300 rounded appearance-none focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent pr-8">
                <option value="">Select Program/Department</option>
                <optgroup label="College of Nursing">
                  <option value="BS Nursing">BS Nursing</option>
                </optgroup>
                <optgroup label="College of International Tourism & Hospitality Management">
                  <option value="BS International Travel and Tourism Management">BS International Travel and Tourism Management</option>
                  <option value="BS International Hospitality Management">BS International Hospitality Management</option>
                  <option value="Associate in International Travel & Tourism Management">Associate in International Travel & Tourism Management</option>
                  <option value="Associate in International Hospitality Management">Associate in International Hospitality Management</option>
                </optgroup>
                <optgroup label="College of Business Administration">
                  <option value="BS Accountancy">BS Accountancy</option>
                  <option value="BS Business Administration">BS Business Administration</option>
                  <option value="BS Customs Administration">BS Customs Administration</option>
                </optgroup>
                <optgroup label="College of Criminal Justice Education">
                  <option value="BS Criminology">BS Criminology</option>
                  <option value="Bachelor of Forensic Science">Bachelor of Forensic Science</option>
                </optgroup>
                <optgroup label="College of Dentistry">
                  <option value="Doctor of Dental Medicine">Doctor of Dental Medicine</option>
                </optgroup>
                <optgroup label="College of Computing, Arts and Sciences">
                  <option value="AB Communication">AB Communication</option>
                  <option value="AB Psychology">AB Psychology</option>
                  <option value="BS Psychology">BS Psychology</option>
                  <option value="Bachelor of Multimedia Arts">Bachelor of Multimedia Arts</option>
                  <option value="BS Computer Science">BS Computer Science</option>
                  <option value="BS Information Technology">BS Information Technology</option>
                </optgroup>
                <optgroup label="College of Allied Medical Professions">
                  <option value="BS Biology (Medical Biology)">BS Biology (Medical Biology)</option>
                  <option value="BS Medical Laboratory Science">BS Medical Laboratory Science</option>
                  <option value="BS Pharmacy">BS Pharmacy</option>
                  <option value="BS Physical Therapy">BS Physical Therapy</option>
                  <option value="BS Radiologic Technology">BS Radiologic Technology</option>
                </optgroup>
                <optgroup label="Lyceum International Maritime Academy">
                  <option value="BS Marine Transportation">BS Marine Transportation</option>
                  <option value="BS Marine Engineering">BS Marine Engineering</option>
                </optgroup>
                <optgroup label="Expanded Tertiary Education Equivalency and Accreditation Program (ETEEAP)">
                  <option value="ETEEAP - BS Business Administration">BS Business Administration</option>
                  <option value="ETEEAP - BS Criminology">BS Criminology</option>
                  <option value="ETEEAP - BS Information Technology">BS Information Technology</option>
                  <option value="ETEEAP - BS International Hospitality Management">BS International Hospitality Management</option>
                  <option value="ETEEAP - BS Nursing">BS Nursing</option>
                </optgroup>
                <optgroup label="Center for Technical Education">
                  <option value="Certificate in Culinary Arts">Certificate in Culinary Arts</option>
                  <option value="Certificate in Pastry Arts">Certificate in Pastry Arts</option>
                </optgroup>
              </select>
              <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                <i class="ri-arrow-down-s-line text-gray-500"></i>
              </div>
            </div>
          </div>
          <div id="editSchoolField" class="col-span-2 hidden">
            <label for="editSchoolName" class="block text-sm font-medium text-gray-700 mb-1">Name of School</label>
            <input type="text" id="editSchoolName" name="editSchoolName" class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
          </div>
          <div class="col-span-2">
            <label for="editThesisTitle" class="block text-sm font-medium text-gray-700 mb-1">Title of Thesis</label>
            <textarea id="editThesisTitle" name="editThesisTitle" rows="3" class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" required></textarea>
          </div>
        </div>
        <div class="flex justify-end space-x-4">
          <button type="button" id="cancelEditBtn" class="bg-gray-100 text-gray-800 px-4 py-2 !rounded-button font-medium hover:bg-gray-200 transition">
            Cancel
          </button>
          <button type="submit" class="bg-primary text-white px-4 py-2 !rounded-button font-medium hover:bg-opacity-90 transition">
            Save Changes
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
<!-- View Modal -->
<div id="viewModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
  <div class="bg-white rounded-lg shadow-xl max-w-2xl w-full mx-auto overflow-hidden">
    <div class="bg-primary px-6 py-4 flex justify-between items-center">
      <h3 class="text-xl font-medium text-white flex items-center">
        <i class="ri-eye-line mr-2"></i>
        Research Record Details
      </h3>
      <button id="closeViewModalBtn" class="text-white hover:text-gray-200">
        <i class="ri-close-line text-xl"></i>
      </button>
    </div>
    <div class="px-6 py-4">
      <div class="space-y-6">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="col-span-2">
            <h4 class="text-lg font-medium text-gray-800 mb-2">Submission Information</h4>
            <div class="bg-gray-50 rounded-lg p-4">
              <div class="grid grid-cols-2 gap-4">
                <div>
                  <p class="text-sm text-gray-600">Submission Date</p>
                  <p id="viewDate" class="font-medium text-gray-800"></p>
                </div>
                <div>
                  <p class="text-sm text-gray-600">User Type</p>
                  <p id="viewUserType" class="font-medium text-gray-800"></p>
                </div>
              </div>
            </div>
          </div>
          
          <div class="col-span-2">
            <h4 class="text-lg font-medium text-gray-800 mb-2">Personal Information</h4>
            <div class="bg-gray-50 rounded-lg p-4">
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                  <p class="text-sm text-gray-600">Full Name</p>
                  <p id="viewName" class="font-medium text-gray-800"></p>
                </div>
                <div id="viewStudentNumberContainer">
                  <p class="text-sm text-gray-600">Student Number</p>
                  <p id="viewStudentNumber" class="font-medium text-gray-800"></p>
                </div>
                <div id="viewCampusContainer">
                  <p class="text-sm text-gray-600">Campus</p>
                  <p id="viewCampus" class="font-medium text-gray-800"></p>
                </div>
                <div id="viewProgramContainer">
                  <p class="text-sm text-gray-600">Program/Department</p>
                  <p id="viewProgram" class="font-medium text-gray-800"></p>
                </div>
                <div id="viewSchoolContainer" class="hidden">
                  <p class="text-sm text-gray-600">School Name</p>
                  <p id="viewSchool" class="font-medium text-gray-800"></p>
                </div>
              </div>
            </div>
          </div>
          
          <div class="col-span-2">
            <h4 class="text-lg font-medium text-gray-800 mb-2">Research Information</h4>
            <div class="bg-gray-50 rounded-lg p-4">
              <div>
                <p class="text-sm text-gray-600">Thesis Title</p>
                <p id="viewThesisTitle" class="font-medium text-gray-800"></p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="px-6 py-4 bg-gray-50 border-t border-gray-200">
      <div class="flex justify-end">
        <button id="closeViewModalBtn2" class="bg-primary text-white px-4 py-2 !rounded-button font-medium hover:bg-opacity-90 transition">
          Close
        </button>
      </div>
    </div>
  </div>
</div>
<!-- Export Modal -->
<div id="exportModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
  <div class="bg-white rounded-lg shadow-xl max-w-md w-full mx-auto overflow-hidden">
    <div class="bg-primary px-6 py-4 flex justify-between items-center">
      <h3 class="text-xl font-medium text-white flex items-center">
        <i class="ri-download-line mr-2"></i>
        Export Filtered Records
      </h3>
      <button id="closeExportModalBtn" class="text-white hover:text-gray-200">
        <i class="ri-close-line text-xl"></i>
      </button>
    </div>
    <div class="px-6 py-4">
      <div class="mb-6">
        <p class="text-gray-700 mb-4">Select the format and options for exporting the records:</p>
        <p id="exportRecordCount" class="text-sm text-primary font-medium mb-4"></p>
        <div class="space-y-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">Export Format</label>
            <select id="exportFormat" class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
              <option value="pdf">PDF Document</option>
              <option value="excel">Excel Spreadsheet</option>
            </select>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">Include Fields</label>
            <div class="space-y-2">
              <label class="flex items-center">
                <input type="checkbox" class="form-checkbox text-primary" checked>
                <span class="ml-2 text-gray-700">Date</span>
              </label>
              <label class="flex items-center">
                <input type="checkbox" class="form-checkbox text-primary" checked>
                <span class="ml-2 text-gray-700">User Type</span>
              </label>
              <label class="flex items-center">
                <input type="checkbox" class="form-checkbox text-primary" checked>
                <span class="ml-2 text-gray-700">Name</span>
              </label>
              <label class="flex items-center">
                <input type="checkbox" class="form-checkbox text-primary" checked>
                <span class="ml-2 text-gray-700">Student Number</span>
              </label>
              <label class="flex items-center">
                <input type="checkbox" class="form-checkbox text-primary" checked>
                <span class="ml-2 text-gray-700">Campus</span>
              </label>
              <label class="flex items-center">
                <input type="checkbox" class="form-checkbox text-primary" checked>
                <span class="ml-2 text-gray-700">Program/Department</span>
              </label>
              <label class="flex items-center">
                <input type="checkbox" class="form-checkbox text-primary" checked>
                <span class="ml-2 text-gray-700">School Name</span>
              </label>
              <label class="flex items-center">
                <input type="checkbox" class="form-checkbox text-primary" checked>
                <span class="ml-2 text-gray-700">Thesis Title</span>
              </label>
            </div>
          </div>
        </div>
      </div>
      <div class="flex justify-end space-x-4">
        <button id="cancelExportBtn" class="bg-gray-100 text-gray-800 px-4 py-2 !rounded-button font-medium hover:bg-gray-200 transition">
          Cancel
        </button>
        <button id="confirmExportBtn" class="bg-primary text-white px-4 py-2 !rounded-button font-medium hover:bg-opacity-90 transition">
          Export
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Logout Confirmation Modal -->
<div id="logoutConfirmationModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
  <div class="bg-white rounded-lg shadow-xl max-w-md w-full mx-auto overflow-hidden">
    <div class="bg-primary px-6 py-4 flex justify-between items-center">
      <h3 class="text-xl font-medium text-white flex items-center">
        <i class="ri-logout-box-line mr-2"></i>
        Confirm Logout
      </h3>
      <button id="closeLogoutModalBtn" class="text-white hover:text-gray-200">
        <i class="ri-close-line text-xl"></i>
      </button>
    </div>
    <div class="px-6 py-4">
      <div class="mb-6">
        <p class="text-gray-700">Are you sure you want to logout from the admin dashboard?</p>
      </div>
      <div class="flex justify-end space-x-4">
        <button id="cancelLogoutBtn" class="bg-gray-100 text-gray-800 px-4 py-2 !rounded-button font-medium hover:bg-gray-200 transition">
          Cancel
        </button>
        <button id="confirmLogoutBtn" class="bg-primary text-white px-4 py-2 !rounded-button font-medium hover:bg-opacity-90 transition">
          Logout
        </button>
      </div>
    </div>
  </div>
</div>
<!-- Rating Animation (Hidden by default) -->
<div id="ratingAnimation" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
  <div class="bg-white rounded-lg shadow-xl max-w-md w-full mx-auto overflow-hidden">
    <div class="bg-primary px-6 py-4 flex justify-between items-center">
      <h3 class="text-xl font-medium text-white flex items-center">
        <i class="ri-star-line mr-2"></i>
        Rate Your Experience
      </h3>
      <button id="closeRatingBtn" class="text-white hover:text-gray-200">
        <i class="ri-close-line text-xl"></i>
      </button>
    </div>
    <div class="px-6 py-4">
      <div class="flex flex-col items-center justify-center">
        <p class="text-gray-700 mb-6">How would you rate your experience with us?</p>
        <div class="rating-box">
          <input type="radio" id="rating-5" name="rating" hidden>
          <label for="rating-5" class="fas fa-star"></label>
          <input type="radio" id="rating-4" name="rating" hidden>
          <label for="rating-4" class="fas fa-star"></label>
          <input type="radio" id="rating-3" name="rating" hidden>
          <label for="rating-3" class="fas fa-star"></label>
          <input type="radio" id="rating-2" name="rating" hidden>
          <label for="rating-2" class="fas fa-star"></label>
          <input type="radio" id="rating-1" name="rating" hidden>
          <label for="rating-1" class="fas fa-star"></label>
          <div class="emojis"></div>
        </div>
        <button id="submitRatingBtn" class="mt-16 bg-primary text-white px-4 py-2 !rounded-button font-medium hover:bg-opacity-90 transition">
          Submit Rating
        </button>
      </div>
    </div>
  </div>
</div>
<!-- Thank You Animation (Hidden by default) -->
<div id="thankYouAnimation" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
  <div class="bg-white rounded-lg shadow-xl max-w-md w-full mx-auto overflow-hidden">
    <div class="bg-primary px-6 py-4 flex justify-between items-center">
      <h3 class="text-xl font-medium text-white flex items-center">
        <i class="ri-emotion-happy-line mr-2"></i>
        Thank You!
      </h3>
      <button id="closeThankYouBtn" class="text-white hover:text-gray-200">
        <i class="ri-close-line text-xl"></i>
      </button>
    </div>
    <div class="px-6 py-4 bg-white">
      <iframe src="thank_u_animation.html" frameborder="0" class="w-full h-96"></iframe>
      <div class="text-center mt-4">
        <p class="text-lg font-medium text-gray-800 mb-4">Thank you for your feedback!</p>
        <button id="closeThankYouBtn2" class="bg-primary text-white px-6 py-2 !rounded-button font-medium hover:bg-opacity-90 transition">
          Close
        </button>
      </div>
    </div>
  </div>
</div>



<!-- Thesis Export Modal (Hidden by default) -->
<div id="thesisExportModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
  <div class="bg-white rounded-lg shadow-xl max-w-md w-full mx-auto overflow-hidden">
    <div class="bg-primary px-6 py-4 flex justify-between items-center">
      <h3 class="text-xl font-medium text-white flex items-center">
        <i class="ri-download-line mr-2"></i>
        Export Thesis Records
      </h3>
      <button id="closeThesisExportBtn" class="text-white hover:text-gray-200">
        <i class="ri-close-line text-xl"></i>
      </button>
    </div>
    <div class="px-6 py-6 bg-white">
      <p class="text-gray-600 mb-6">Select the format to export thesis records:</p>
      
      <div class="grid grid-cols-2 gap-4 mb-6">
        <!-- PDF Export Option -->
        <div id="thesisExportPdfBtn" class="cursor-pointer bg-white border border-gray-200 rounded-lg p-4 text-center hover:shadow-md transition">
          <div class="w-12 h-12 mx-auto bg-red-100 rounded-full flex items-center justify-center mb-3">
            <i class="ri-file-pdf-line text-red-600 text-2xl"></i>
          </div>
          <h4 class="text-sm font-medium text-gray-800">PDF Document</h4>
          <p class="text-xs text-gray-500 mt-1">Export as PDF file</p>
        </div>
        
        <!-- Excel Export Option -->
        <div id="thesisExportExcelBtn" class="cursor-pointer bg-white border border-gray-200 rounded-lg p-4 text-center hover:shadow-md transition">
          <div class="w-12 h-12 mx-auto bg-green-100 rounded-full flex items-center justify-center mb-3">
            <i class="ri-file-excel-line text-green-600 text-2xl"></i>
          </div>
          <h4 class="text-sm font-medium text-gray-800">Excel Spreadsheet</h4>
          <p class="text-xs text-gray-500 mt-1">Export as XLSX file</p>
        </div>
      </div>
      
      <div class="text-center">
        <button id="cancelThesisExportBtn" class="bg-gray-100 text-gray-800 px-6 py-2 !rounded-button font-medium hover:bg-gray-200 transition">
          Cancel
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Export Statistics Modal (Hidden by default) -->
<div id="exportStatsModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
  <div class="bg-white rounded-lg shadow-xl max-w-md w-full mx-auto overflow-hidden">
    <div class="bg-primary px-6 py-4 flex justify-between items-center">
      <h3 class="text-xl font-medium text-white flex items-center">
        <i class="ri-download-line mr-2"></i>
        Export Analytics Report
      </h3>
      <button id="closeStatsExportBtn" class="text-white hover:text-gray-200">
        <i class="ri-close-line text-xl"></i>
      </button>
    </div>
    <div class="px-6 py-6 bg-white">
      <p class="text-gray-600 mb-6">Select the format to export your analytics report:</p>
      
      <div class="grid grid-cols-2 gap-4 mb-6">
        <!-- PDF Export Option -->
        <div id="exportStatsPdfBtn" class="cursor-pointer bg-white border border-gray-200 rounded-lg p-4 text-center hover:shadow-md transition">
          <div class="w-12 h-12 mx-auto bg-red-100 rounded-full flex items-center justify-center mb-3">
            <i class="ri-file-pdf-line text-red-600 text-2xl"></i>
          </div>
          <h4 class="text-sm font-medium text-gray-800">PDF Document</h4>
          <p class="text-xs text-gray-500 mt-1">Export as PDF file</p>
        </div>
        
        <!-- Excel Export Option -->
        <div id="exportStatsExcelBtn" class="cursor-pointer bg-white border border-gray-200 rounded-lg p-4 text-center hover:shadow-md transition">
          <div class="w-12 h-12 mx-auto bg-green-100 rounded-full flex items-center justify-center mb-3">
            <i class="ri-file-excel-line text-green-600 text-2xl"></i>
          </div>
          <h4 class="text-sm font-medium text-gray-800">Excel Spreadsheet</h4>
          <p class="text-xs text-gray-500 mt-1">Export as XLSX file</p>
        </div>
      </div>
      
      <div class="text-center">
        <button id="cancelStatsExportBtn" class="bg-gray-100 text-gray-800 px-6 py-2 !rounded-button font-medium hover:bg-gray-200 transition">
          Cancel
        </button>
      </div>
    </div>
  </div>
</div>

<script src="script.js"></script>
  
  <!-- Thesis Management Script -->
  <script src="js/thesis.js"></script>
  
  <!-- Thesis Search Script -->
  <script src="js/search.js"></script>
  
  <!-- ECharts Library -->
  <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
  
  <!-- SheetJS Library for Excel exports -->
  <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
  
  <!-- Statistics Tab Charts -->
  <script>
    // Initialize charts when statistics tab is clicked
    document.getElementById('statisticsTabBtn').addEventListener('click', function() {
      setTimeout(function() {
        initSubmissionTrendsChart();
        initUserDistributionChart();
      }, 100);
    });
    
    // Statistics Export Button Functionality
    const exportStatsBtn = document.getElementById('exportStatsBtn');
    const exportStatsModal = document.getElementById('exportStatsModal');
    const closeStatsExportBtn = document.getElementById('closeStatsExportBtn');
    const cancelStatsExportBtn = document.getElementById('cancelStatsExportBtn');
    const exportStatsPdfBtn = document.getElementById('exportStatsPdfBtn');
    const exportStatsExcelBtn = document.getElementById('exportStatsExcelBtn');
    
    if (exportStatsBtn) {
      exportStatsBtn.addEventListener('click', function() {
        exportStatsModal.classList.remove('hidden');
      });
    }
    
    if (closeStatsExportBtn) {
      closeStatsExportBtn.addEventListener('click', function() {
        exportStatsModal.classList.add('hidden');
      });
    }
    
    if (cancelStatsExportBtn) {
      cancelStatsExportBtn.addEventListener('click', function() {
        exportStatsModal.classList.add('hidden');
      });
    }
    
    // Export Statistics to PDF
    if (exportStatsPdfBtn) {
      exportStatsPdfBtn.addEventListener('click', function() {
        // Create PDF document with legal paper size (8.5 x 14 inches)
        const { jsPDF } = window.jspdf;
        const doc = new jsPDF({
          orientation: 'portrait',
          unit: 'pt',
          format: 'legal' // 8.5 x 14 inches (long paper size)
        });
        let currentY = 50; // Track vertical position
        const margin = 50; // Left margin
        const pageWidth = doc.internal.pageSize.width;
        const pageHeight = doc.internal.pageSize.height; // Legal size height (1008 points)
        
        // Add title and date
        const timeRange = document.getElementById('statisticsTimeRange').value;
        let timeRangeText = 'Last 30 days';
        if (timeRange === 'week') timeRangeText = 'Last 7 days';
        if (timeRange === 'quarter') timeRangeText = 'Last 3 months';
        if (timeRange === 'year') timeRangeText = 'Last 12 months';
        
        // Title and header
        doc.setFontSize(24);
        doc.setTextColor(191, 47, 47); // Primary color
        doc.text('Researchers\' Analytics Report', pageWidth / 2, currentY, { align: 'center' });
        currentY += 40;
        
        doc.setFontSize(14);
        doc.setTextColor(80, 80, 80); // Dark gray
        doc.text(`Time Period: ${timeRangeText}`, pageWidth / 2, currentY, { align: 'center' });
        currentY += 20;
        doc.text(`Generated on: ${new Date().toLocaleDateString()}`, pageWidth / 2, currentY, { align: 'center' });
        currentY += 50;
        
        // Add summary statistics
        doc.setFontSize(18);
        doc.setTextColor(60, 60, 60); // Darker gray for section headers
        doc.text('Summary Statistics', margin, currentY);
        currentY += 25;
        doc.setFontSize(12);
        
        // Create a table for the summary statistics
        const summaryData = [
          ['Total Submissions', '1,248', '+12.5%'],
          ['LPU Students', '876', '+8.3%'],
          ['External Users', '372', '+18.7%'],
          ['Downloads', '3,542', '+24.2%']
        ];
        
        doc.autoTable({
          startY: currentY,
          head: [['Metric', 'Value', 'Change']],
          body: summaryData,
          theme: 'grid',
          headStyles: { fillColor: [191, 47, 47], textColor: [255, 255, 255] },
          styles: { fontSize: 12 },
          margin: { left: margin }
        });
        
        currentY = doc.lastAutoTable.finalY + 40;
        
        // Check if need to add a new page
        if (currentY > pageHeight - 150) { // If close to bottom of legal page
          doc.addPage();
          currentY = 50;
        }
        
        // Add Submission Trends Chart
        doc.setFontSize(18);
        doc.setTextColor(60, 60, 60);
        doc.text('Submission Trends', margin, currentY);
        currentY += 25;
        
        // Get the chart canvas and convert to image
        const submissionTrendsChart = document.getElementById('submissionTrendsChart');
        if (submissionTrendsChart) {
          // Get chart instance
          const chartInstance = echarts.getInstanceByDom(submissionTrendsChart);
          if (chartInstance) {
            // Convert chart to data URL
            const chartDataURL = chartInstance.getDataURL({
              type: 'png',
              pixelRatio: 2,
              backgroundColor: '#fff'
            });
            
            // Add chart image to PDF
            const chartWidth = 500;
            const chartHeight = 250;
            doc.addImage(
              chartDataURL, 
              'PNG', 
              margin, 
              currentY, 
              chartWidth, 
              chartHeight
            );
            currentY += chartHeight + 40;
          }
        }
        
        // Check if need to add a new page
        if (currentY > pageHeight - 150) { // If close to bottom of legal page
          doc.addPage();
          currentY = 50;
        }
        
        // Add User Distribution Chart
        doc.setFontSize(18);
        doc.setTextColor(60, 60, 60);
        doc.text('User Distribution', margin, currentY);
        currentY += 25;
        
        // Get the user distribution chart canvas and convert to image
        const userDistributionChart = document.getElementById('userDistributionChart');
        if (userDistributionChart) {
          // Get chart instance
          const chartInstance = echarts.getInstanceByDom(userDistributionChart);
          if (chartInstance) {
            // Convert chart to data URL
            const chartDataURL = chartInstance.getDataURL({
              type: 'png',
              pixelRatio: 2,
              backgroundColor: '#fff'
            });
            
            // Add chart image to PDF
            const chartWidth = 500;
            const chartHeight = 250;
            doc.addImage(
              chartDataURL, 
              'PNG', 
              margin, 
              currentY, 
              chartWidth, 
              chartHeight
            );
            currentY += chartHeight + 40;
          }
        }
        
        // Check if need to add a new page
        if (currentY > pageHeight - 150) { // If close to bottom of legal page
          doc.addPage();
          currentY = 50;
        }
        
        // Add popular research topics
        doc.setFontSize(18);
        doc.setTextColor(60, 60, 60);
        doc.text('Popular Research Topics', margin, currentY);
        currentY += 25;
        
        const topicsData = [
          ['Computer Science', '28%'],
          ['Business Admin', '22%'],
          ['Nursing', '18%'],
          ['Psychology', '15%'],
          ['Tourism', '12%']
        ];
        
        doc.autoTable({
          startY: currentY,
          head: [['Topic', 'Percentage']],
          body: topicsData,
          theme: 'grid',
          headStyles: { fillColor: [191, 47, 47], textColor: [255, 255, 255] },
          styles: { fontSize: 12 },
          margin: { left: margin }
        });
        
        currentY = doc.lastAutoTable.finalY + 40;
        
        // Check if need to add a new page
        if (currentY > pageHeight - 150) { // If close to bottom of legal page
          doc.addPage();
          currentY = 50;
        }
        
        // Add most active users
        doc.setFontSize(18);
        doc.setTextColor(60, 60, 60);
        doc.text('Most Active Users', margin, currentY);
        currentY += 25;
        
        const usersData = [
          ['Michael Johnson', 'Computer Science', '42 submissions'],
          ['Emily Rodriguez', 'Psychology', '38 submissions'],
          ['David Thompson', 'Business Admin', '35 submissions'],
          ['Sarah Williams', 'Nursing', '29 submissions'],
          ['Robert Chen', 'Engineering', '24 submissions']
        ];
        
        doc.autoTable({
          startY: currentY,
          head: [['Name', 'Department', 'Activity']],
          body: usersData,
          theme: 'grid',
          headStyles: { fillColor: [191, 47, 47], textColor: [255, 255, 255] },
          styles: { fontSize: 12 },
          margin: { left: margin }
        });
        
        // Add footer
        const totalPages = doc.internal.getNumberOfPages();
        for (let i = 1; i <= totalPages; i++) {
          doc.setPage(i);
          doc.setFontSize(10);
          doc.setTextColor(150, 150, 150);
          doc.text(
            `Page ${i} of ${totalPages} - Generated by Graduate School Research Collection`,
            pageWidth / 2,
            pageHeight - 30,
            { align: 'center' }
          );
        }
        
        // Save the PDF
        doc.save('research-analytics-report.pdf');
        
        // Close the modal after export
        exportStatsModal.classList.add('hidden');
      });
    }
    
    // Export Statistics to Excel
    if (exportStatsExcelBtn) {
      exportStatsExcelBtn.addEventListener('click', function() {
        // Create workbook
        const wb = XLSX.utils.book_new();
        
        // Get time range
        const timeRange = document.getElementById('statisticsTimeRange').value;
        let timeRangeText = 'Last 30 days';
        if (timeRange === 'week') timeRangeText = 'Last 7 days';
        if (timeRange === 'quarter') timeRangeText = 'Last 3 months';
        if (timeRange === 'year') timeRangeText = 'Last 12 months';
        
        // Summary statistics sheet
        const summaryData = [
          ['Researchers\' Analytics Report'],
          [`Time Period: ${timeRangeText}`],
          [`Generated on: ${new Date().toLocaleDateString()}`],
          [],
          ['Summary Statistics'],
          ['Metric', 'Value', 'Change'],
          ['Total Submissions', '1,248', '+12.5%'],
          ['LPU Students', '876', '+8.3%'],
          ['External Users', '372', '+18.7%'],
          ['Downloads', '3,542', '+24.2%']
        ];
        
        const summaryWS = XLSX.utils.aoa_to_sheet(summaryData);
        XLSX.utils.book_append_sheet(wb, summaryWS, 'Summary');
        
        // Submission Trends sheet with chart data
        const trendsData = [
          ['Submission Trends'],
          [],
          ['Day', 'Submissions'],
          ['Mon', 10],
          ['Tue', 15],
          ['Wed', 12],
          ['Thu', 20],
          ['Fri', 24],
          ['Sat', 18],
          ['Sun', 8]
        ];
        
        const trendsWS = XLSX.utils.aoa_to_sheet(trendsData);
        
        // Add chart positioning and properties (this is metadata for Excel to create a chart)
        // Note: This is a simplified approach - Excel will need to interpret this data to create a chart
        trendsWS['!charts'] = [{
          type: 'bar',
          title: 'Submission Trends',
          data: { ref: 'A3:B10' },
          position: { x: 0, y: 15, width: 500, height: 300 }
        }];
        
        XLSX.utils.book_append_sheet(wb, trendsWS, 'Submission Trends');
        
        // User Distribution sheet with chart data
        const distributionData = [
          ['User Distribution'],
          [],
          ['User Type', 'Percentage'],
          ['LPU Students', 70],
          ['External Users', 30]
        ];
        
        const distributionWS = XLSX.utils.aoa_to_sheet(distributionData);
        
        // Add chart positioning and properties for pie chart
        distributionWS['!charts'] = [{
          type: 'pie',
          title: 'User Distribution',
          data: { ref: 'A3:B5' },
          position: { x: 0, y: 15, width: 500, height: 300 }
        }];
        
        XLSX.utils.book_append_sheet(wb, distributionWS, 'User Distribution');
        
        // Research topics sheet
        const topicsData = [
          ['Popular Research Topics'],
          [],
          ['Topic', 'Percentage'],
          ['Computer Science', '28%'],
          ['Business Admin', '22%'],
          ['Nursing', '18%'],
          ['Psychology', '15%'],
          ['Tourism', '12%']
        ];
        
        const topicsWS = XLSX.utils.aoa_to_sheet(topicsData);
        XLSX.utils.book_append_sheet(wb, topicsWS, 'Research Topics');
        
        // Active users sheet
        const usersData = [
          ['Most Active Users'],
          [],
          ['Name', 'Department', 'Activity'],
          ['Michael Johnson', 'Computer Science', '42 submissions'],
          ['Emily Rodriguez', 'Psychology', '38 submissions'],
          ['David Thompson', 'Business Admin', '35 submissions'],
          ['Sarah Williams', 'Nursing', '29 submissions'],
          ['Robert Chen', 'Engineering', '24 submissions']
        ];
        
        const usersWS = XLSX.utils.aoa_to_sheet(usersData);
        XLSX.utils.book_append_sheet(wb, usersWS, 'Active Users');
        
        // Save the Excel file
        XLSX.writeFile(wb, 'research-analytics-report.xlsx');
        
        // Close the modal after export
        exportStatsModal.classList.add('hidden');
      });
    }
    
    // Submission Trends Chart
    function initSubmissionTrendsChart() {
      const chartDom = document.getElementById('submissionTrendsChart');
      if (!chartDom) return;
      
      const myChart = echarts.init(chartDom);
      const option = {
        tooltip: {
          trigger: 'axis',
          axisPointer: {
            type: 'shadow'
          }
        },
        grid: {
          left: '3%',
          right: '4%',
          bottom: '3%',
          containLabel: true
        },
        xAxis: {
          type: 'category',
          data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
          axisTick: {
            alignWithLabel: true
          }
        },
        yAxis: {
          type: 'value'
        },
        series: [
          {
            name: 'Submissions',
            type: 'bar',
            barWidth: '60%',
            data: [10, 15, 12, 20, 24, 18, 8],
            itemStyle: {
              color: '#3b82f6'
            }
          }
        ]
      };
      
      myChart.setOption(option);
      
      // Handle resize
      window.addEventListener('resize', function() {
        myChart.resize();
      });
    }
    
    // User Distribution Chart
    function initUserDistributionChart() {
      const chartDom = document.getElementById('userDistributionChart');
      if (!chartDom) return;
      
      const myChart = echarts.init(chartDom);
      const option = {
        tooltip: {
          trigger: 'item'
        },
        legend: {
          top: '5%',
          left: 'center',
          textStyle: {
            color: '#4b5563'
          }
        },
        series: [
          {
            name: 'User Distribution',
            type: 'pie',
            radius: ['40%', '70%'],
            avoidLabelOverlap: false,
            itemStyle: {
              borderRadius: 10,
              borderColor: '#fff',
              borderWidth: 2
            },
            label: {
              show: false,
              position: 'center'
            },
            emphasis: {
              label: {
                show: true,
                fontSize: '18',
                fontWeight: 'bold'
              }
            },
            labelLine: {
              show: false
            },
            data: [
              { value: 876, name: 'LPU Students', itemStyle: { color: '#22c55e' } },
              { value: 372, name: 'External Users', itemStyle: { color: '#8b5cf6' } }
            ]
          }
        ]
      };
      
      myChart.setOption(option);
      
      // Handle resize
      window.addEventListener('resize', function() {
        myChart.resize();
      });
    }
  </script>
  
<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Profile dropdown functionality
    const profileDropdownBtn = document.getElementById('profileDropdownBtn');
    const profileDropdown = document.getElementById('profileDropdown');
    const appearanceToggle = document.getElementById('appearanceToggle');
    const appearanceSubmenu = document.getElementById('appearanceSubmenu');
    
    // Theme buttons
    const lightThemeBtn = document.getElementById('lightThemeBtn');
    const darkThemeBtn = document.getElementById('darkThemeBtn');
    const systemThemeBtn = document.getElementById('systemThemeBtn');
    
    // Theme check marks
    const lightThemeCheck = document.getElementById('lightThemeCheck');
    const darkThemeCheck = document.getElementById('darkThemeCheck');
    const systemThemeCheck = document.getElementById('systemThemeCheck');
    
    // Current theme (default to system)
    let currentTheme = localStorage.getItem('theme') || 'system';
    updateThemeUI(currentTheme);
    
    // Apply theme on page load
    document.addEventListener('DOMContentLoaded', function() {
      setTheme(currentTheme);
    });
    
    if (profileDropdownBtn && profileDropdown) {
      // Toggle dropdown when profile button is clicked
      profileDropdownBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        profileDropdown.classList.toggle('hidden');
        // Hide appearance submenu when main dropdown is toggled
        if (appearanceSubmenu) {
          appearanceSubmenu.classList.add('hidden');
        }
      });
      
      // Close dropdown when clicking outside
      document.addEventListener('click', function(e) {
        if (!profileDropdownContainer.contains(e.target)) {
          profileDropdown.classList.add('hidden');
          if (appearanceSubmenu) {
            appearanceSubmenu.classList.add('hidden');
          }
        }
      });
    }
    
    // Appearance toggle functionality
    if (appearanceToggle && appearanceSubmenu) {
      // Show submenu on hover
      appearanceToggle.addEventListener('mouseenter', function() {
        appearanceSubmenu.classList.remove('hidden');
      });
      
      // Hide submenu when mouse leaves both the toggle and submenu
      appearanceToggle.addEventListener('mouseleave', function(e) {
        // Check if mouse is moving to the submenu
        const rect = appearanceSubmenu.getBoundingClientRect();
        if (
          e.clientX < rect.left ||
          e.clientX > rect.right ||
          e.clientY < rect.top ||
          e.clientY > rect.bottom
        ) {
          // If not moving to submenu, add a small delay before hiding
          setTimeout(() => {
            if (!appearanceSubmenu.matches(':hover')) {
              appearanceSubmenu.classList.add('hidden');
            }
          }, 100);
        }
      });
      
      // Also hide submenu when mouse leaves the submenu
      appearanceSubmenu.addEventListener('mouseleave', function() {
        setTimeout(() => {
          if (!appearanceToggle.matches(':hover')) {
            appearanceSubmenu.classList.add('hidden');
          }
        }, 100);
      });
    }
    
    // Theme selection functionality
    if (lightThemeBtn && darkThemeBtn && systemThemeBtn) {
      lightThemeBtn.addEventListener('click', function() {
        setTheme('light');
      });
      
      darkThemeBtn.addEventListener('click', function() {
        setTheme('dark');
      });
      
      systemThemeBtn.addEventListener('click', function() {
        setTheme('system');
      });
    }
    
    // Function to set theme
    function setTheme(theme) {
      currentTheme = theme;
      localStorage.setItem('theme', theme);
      updateThemeUI(theme);
      
      // Apply theme to the page
      document.documentElement.classList.remove('light-theme', 'dark-theme');
      
      if (theme === 'light') {
        document.documentElement.classList.add('light-theme');
      } else if (theme === 'dark') {
        document.documentElement.classList.add('dark-theme');
      } else if (theme === 'system') {
        // Check system preference
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
          document.documentElement.classList.add('dark-theme');
        } else {
          document.documentElement.classList.add('light-theme');
        }
      }
      
      // Close appearance submenu after selection
      if (appearanceSubmenu) {
        appearanceSubmenu.classList.add('hidden');
      }
      
      // Optional: Close profile dropdown after theme selection
      if (profileDropdown) {
        setTimeout(() => {
          profileDropdown.classList.add('hidden');
        }, 300);
      }
    }
    
    // Function to update theme UI
    function updateThemeUI(theme) {
      // Hide all check marks
      if (lightThemeCheck) lightThemeCheck.classList.add('hidden');
      if (darkThemeCheck) darkThemeCheck.classList.add('hidden');
      if (systemThemeCheck) systemThemeCheck.classList.add('hidden');
      
      // Show check mark for selected theme
      if (theme === 'light' && lightThemeCheck) {
        lightThemeCheck.classList.remove('hidden');
      } else if (theme === 'dark' && darkThemeCheck) {
        darkThemeCheck.classList.remove('hidden');
      } else if (theme === 'system' && systemThemeCheck) {
        systemThemeCheck.classList.remove('hidden');
      }
    }
    
    // Tab switching for admin dashboard
    const recordsTabBtn = document.getElementById('recordsTabBtn');
    const statisticsTabBtn = document.getElementById('statisticsTabBtn');
    const recordsTabContent = document.getElementById('recordsTabContent');
    const statisticsTabContent = document.getElementById('statisticsTabContent');
    
    if (recordsTabBtn && statisticsTabBtn) {
      // Function to reset all tabs
      function resetAllTabs() {
        // Reset all tab buttons
        [recordsTabBtn, statisticsTabBtn].forEach(tab => {
          tab.classList.remove('border-primary', 'text-primary');
          tab.classList.add('border-transparent', 'hover:text-gray-600', 'hover:border-gray-300');
        });
        
        // Hide all tab contents
        [recordsTabContent, statisticsTabContent].forEach(content => {
          if (content) content.classList.add('hidden');
        });
      }
      
      // Records Tab
      recordsTabBtn.addEventListener('click', function(e) {
        e.preventDefault();
        resetAllTabs();
        
        // Activate this tab
        recordsTabBtn.classList.add('border-primary', 'text-primary');
        recordsTabBtn.classList.remove('border-transparent', 'hover:text-gray-600', 'hover:border-gray-300');
        
        // Show content
        recordsTabContent.classList.remove('hidden');
      });
      

      
      // Statistics Tab
      statisticsTabBtn.addEventListener('click', function(e) {
        e.preventDefault();
        resetAllTabs();
        
        // Activate this tab
        statisticsTabBtn.classList.add('border-primary', 'text-primary');
        statisticsTabBtn.classList.remove('border-transparent', 'hover:text-gray-600', 'hover:border-gray-300');
        
        // Show content
        statisticsTabContent.classList.remove('hidden');
        
        // Initialize charts (the chart initialization is handled in the separate script)
      });
      
      // Set Records tab as default active tab
      recordsTabBtn.click();
    }
    

    
    const mobileMenuBtn = document.getElementById('mobileMenuBtn');
    const mobileMenu = document.getElementById('mobileMenu');
    
    if (mobileMenuBtn && mobileMenu) {
      mobileMenuBtn.addEventListener('click', function() {
        mobileMenu.classList.toggle('hidden');
      });
    }
    
    // Close the mobile menu when a link is clicked
    const mobileLinks = mobileMenu ? mobileMenu.querySelectorAll('a') : [];
    mobileLinks.forEach(link => {
      link.addEventListener('click', function() {
        mobileMenu.classList.add('hidden');
      });
    });
    
    // Close the mobile menu when the window is resized to desktop
    window.addEventListener('resize', function() {
      if (window.innerWidth >= 768) { // md breakpoint
        mobileMenu.classList.add('hidden');
      }
    });
  });
</script>

<!-- Tutorial Modal -->
<div id="tutorialModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
  <div class="bg-white rounded-lg shadow-xl max-w-4xl w-full mx-auto overflow-hidden">
    <div class="bg-blue-600 px-6 py-4 flex justify-between items-center">
      <h3 class="text-xl font-medium text-white flex items-center">
        <i class="ri-video-line mr-2"></i>
        UndergradFile Tutorials
      </h3>
      <button id="closeTutorialBtn" class="text-white hover:text-gray-200 transition">
        <i class="ri-close-line text-2xl"></i>
      </button>
    </div>
    
    <div class="p-6">
      <div class="flex flex-col md:flex-row gap-6">
        <!-- Tutorial Navigation -->
        <div class="md:w-1/4">
          <div class="bg-gray-50 rounded-lg p-4">
            <h4 class="text-lg font-medium text-gray-800 mb-4">Available Tutorials</h4>
            <div class="space-y-2">
              <button id="formTutorialBtn" class="w-full text-left px-4 py-3 rounded-lg bg-blue-50 text-blue-700 hover:bg-blue-100 transition flex items-center">
                <i class="ri-file-list-line mr-2"></i>
                How to Use the Form
              </button>
              <button id="promoVideoBtn" class="w-full text-left px-4 py-3 rounded-lg bg-gray-100 text-gray-700 hover:bg-gray-200 transition flex items-center">
                <i class="ri-information-line mr-2"></i>
                About UndergradFile
              </button>
            </div>
          </div>
        </div>
        
        <!-- Video Content -->
        <div class="md:w-3/4">
          <div id="tutorialVideoContainer" class="bg-white rounded-lg">
            <!-- Video content will be loaded here dynamically -->
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  // Tutorial Button and Modal Functionality
  document.addEventListener('DOMContentLoaded', function() {
    const tutorialBtn = document.getElementById('tutorialBtn');
    const tutorialModal = document.getElementById('tutorialModal');
    const closeTutorialBtn = document.getElementById('closeTutorialBtn');
    const formTutorialBtn = document.getElementById('formTutorialBtn');
    const promoVideoBtn = document.getElementById('promoVideoBtn');
    const tutorialVideoContainer = document.getElementById('tutorialVideoContainer');
    
    if (tutorialBtn && tutorialModal) {
      tutorialBtn.addEventListener('click', function() {
        tutorialModal.classList.remove('hidden');
        // Show form tutorial by default
        setTimeout(function() {
          if (formTutorialBtn) formTutorialBtn.click();
        }, 100);
      });
      
      if (closeTutorialBtn) {
        closeTutorialBtn.addEventListener('click', function() {
          tutorialModal.classList.add('hidden');
          // Pause any playing videos when closing the modal
          if (tutorialVideoContainer) {
            const videos = tutorialVideoContainer.querySelectorAll('video');
            videos.forEach(video => video.pause());
          }
        });
      }
      
      // Form Tutorial Button
      if (formTutorialBtn && tutorialVideoContainer) {
        formTutorialBtn.addEventListener('click', function() {
          tutorialVideoContainer.innerHTML = `
            <div class="bg-gray-100 p-4 rounded-lg mb-4">
              <h4 class="text-lg font-medium text-gray-800 mb-2">How to Use the Submission Form</h4>
              <p class="text-gray-600 mb-4">This tutorial will guide you through the process of submitting your research records.</p>
            </div>
            <video controls class="w-full rounded-lg shadow-md" poster="https://via.placeholder.com/800x450.png?text=Form+Tutorial+Video">
              <source src="https://example.com/form-tutorial.mp4" type="video/mp4">
              Your browser does not support the video tag.
            </video>
            <div class="mt-4 space-y-2">
              <h5 class="font-medium text-gray-800">Key Steps:</h5>
              <ol class="list-decimal list-inside space-y-1 text-gray-700">
                <li>Select your user type (LPU or Non-LPU Student)</li>
                <li>Fill in your personal information</li>
                <li>Enter your research title</li>
                <li>Submit</li>
              </ol>
            </div>
          `;
        });
      }
      
      // Promotional Video Button
      if (promoVideoBtn && tutorialVideoContainer) {
        promoVideoBtn.addEventListener('click', function() {
          tutorialVideoContainer.innerHTML = `
            <div class="bg-gray-100 p-4 rounded-lg mb-4">
              <h4 class="text-lg font-medium text-gray-800 mb-2">About UndergradFile</h4>
              <p class="text-gray-600 mb-4">Learn about the UndergradFile project and how it benefits the academic community.</p>
            </div>
            <video controls class="w-full rounded-lg shadow-md" poster="https://via.placeholder.com/800x450.png?text=GradFile+Promotional+Video">
              <source src="https://example.com/gradfile-promo.mp4" type="video/mp4">
              Your browser does not support the video tag.
            </video>
            <div class="mt-4 space-y-2">
              <h5 class="font-medium text-gray-800">UndergradFile Features:</h5>
              <ul class="list-disc list-inside space-y-1 text-gray-700">
                <li>Centralized research repository</li>
                <li>Easy submission and retrieval</li>
                <li>Analytics and statistics</li>
                <li>Secure document storage</li>
              </ul>
            </div>
          `;
        });
      }
    }
  });
</script>
</body>
</html>
